# 🧪 功能测试清单

使用此清单验证所有新功能是否正常工作。

## 视觉效果测试

### ✅ 背景色
- [ ] 打开游戏，背景是柔和的莫兰迪色系渐变（灰蓝-灰绿-浅紫）
- [ ] 背景色看起来舒适，不刺眼

### ✅ 鼠标光标
- [ ] 在游戏画布上，鼠标显示为刀形
- [ ] 按住鼠标拖动时，刀变成发光的青色
- [ ] 释放鼠标后恢复正常

### ✅ 切割线
- [ ] 拖动鼠标画线时，线条是青绿色渐变
- [ ] 切割线有发光效果
- [ ] 线条端点有高亮圆点
- [ ] 不再是红色（已改为青色）

## 音频功能测试

### ✅ 音频控制
- [ ] 右上角显示两个圆形按钮（🎵 和 🔊）
- [ ] 点击音乐按钮可以切换背景音乐开关
- [ ] 点击音效按钮可以切换音效开关
- [ ] 关闭时按钮显示 🔇 且透明度降低
- [ ] 设置会保存（刷新页面后仍保持）

### ✅ 背景音乐
- [ ] 点击"开始游戏"后，背景音乐开始播放（如果有音频文件）
- [ ] 音乐会循环播放
- [ ] 音量适中，不会过大

### ✅ 音效
- [ ] 切割水果时播放切割音效（如果有音频文件）
- [ ] 达到完美切割时播放特殊音效
- [ ] 音效清晰，与动作同步

### ✅ 音频降级
- [ ] 即使没有音频文件，游戏也能正常运行
- [ ] 控制台没有报错
- [ ] 游戏玩法不受影响

## 排行榜功能测试

### ✅ 首页全球排行榜
- [ ] 首页显示"🏆 全球排行榜"标题
- [ ] 显示8位名人（梅西、C罗、内马尔等）
- [ ] 每行显示：排名、国旗、姓名、分数
- [ ] 按分数从高到低排序
- [ ] 卡片样式美观，有阴影效果

### ✅ 游戏中实时排行榜（桌面端）
- [ ] 点击开始游戏后，右侧显示"🎮 实时排名"
- [ ] 显示5-7名玩家（包括"你"）
- [ ] "你"这一行有高亮背景（闪烁动画）
- [ ] 每行显示：排名、国旗、姓名、分数
- [ ] 切割得分后，"你"的分数实时更新
- [ ] 排名会根据分数变化

### ✅ 实时更新
- [ ] 观察排行榜，每隔3秒左右其他玩家分数会变化
- [ ] 排名顺序会动态调整
- [ ] 更新流畅，无闪烁

### ✅ 响应式（移动端）
- [ ] 在小屏幕（手机）上，游戏中的实时排行榜自动隐藏
- [ ] 首页排行榜在移动端仍然显示
- [ ] 布局不会混乱或重叠

## 游戏流程测试

### ✅ 完整游戏流程
1. [ ] 打开游戏 → 看到首页排行榜
2. [ ] 点击"开始游戏" → 音乐开始，实时排行榜出现
3. [ ] 切割水果 → 听到音效，看到青色切割线
4. [ ] 完美切割 → 听到特殊音效，看到粒子效果
5. [ ] 得分后 → 排行榜中"你"的分数更新
6. [ ] 返回菜单 → 实时排行榜消失，回到首页

### ✅ 音频持久化
1. [ ] 关闭背景音乐
2. [ ] 刷新页面
3. [ ] 音乐仍保持关闭状态（按钮显示🔇）

### ✅ 跨浏览器测试
- [ ] Chrome - 所有功能正常
- [ ] Firefox - 所有功能正常
- [ ] Safari - 所有功能正常
- [ ] Edge - 所有功能正常

## 性能测试

### ✅ 流畅度
- [ ] 切割线绘制流畅，无延迟
- [ ] 排行榜更新不影响游戏性能
- [ ] 粒子效果不卡顿
- [ ] 整体帧率稳定在60fps

### ✅ 内存
- [ ] 长时间游戏不会越来越卡
- [ ] 浏览器开发者工具显示内存稳定

## 边界情况测试

### ✅ 无音频文件
- [ ] 删除 `assets/sounds/` 中的音频文件
- [ ] 刷新游戏
- [ ] 游戏仍能正常进行
- [ ] 控制台可能有警告但不影响游戏

### ✅ localStorage禁用
- [ ] 在隐私浏览模式下打开游戏
- [ ] 音频开关可以使用（但不保存）
- [ ] 游戏正常运行

### ✅ 小屏幕
- [ ] 缩小浏览器窗口
- [ ] 布局自适应，不会错位
- [ ] 实时排行榜在极小屏幕下隐藏

## 🎯 预期结果

所有项目都应该通过 ✅

如果发现问题：
1. 打开浏览器开发者工具（F12）
2. 查看 Console 标签页中的错误信息
3. 检查 Network 标签页查看资源加载情况

## 💡 快速测试步骤

1. **打开游戏** - 检查背景色和首页排行榜
2. **点击音频按钮** - 测试开关功能
3. **开始游戏** - 观察实时排行榜和音乐
4. **切割水果** - 检查光标、切割线、音效
5. **观察30秒** - 查看排行榜实时更新
6. **完成关卡** - 确认分数正确更新

全部正常即表示所有新功能运行良好！🎉
