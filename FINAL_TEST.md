# ✅ 最终测试指南

## 🎯 核心测试（1分钟）

### 测试1：线从刀尖出来（30秒）

**步骤**：
1. 打开游戏，点击"开始游戏"
2. 在画布上慢慢画一条线
3. 仔细观察红色起点标记的位置

**期望结果**：
- 🔴 红色圆点应该出现在点击位置的**左上方**
- 📏 具体位置：往左约28像素，往上约6像素
- ✅ 线条应该看起来从刀尖延伸出来

**视觉参考**：
```
  🔴 ← 红点（线的起点）
   \
    \
     🔪 ← 你点击的位置（刀的位置）
      \
       \ ← 黑色线条继续延伸
```

### 测试2：画对角线（15秒）

**步骤**：
1. 从画布左上角画到右下角
2. 观察整条线的起点和轨迹

**期望结果**：
- 起点在刀尖位置 ✅
- 线条流畅自然 ✅
- 没有突然的偏移 ✅

### 测试3：切割测试（15秒）

**步骤**：
1. 画一条线穿过西瓜
2. 释放鼠标
3. 查看切割结果

**期望结果**：
- 切割正常工作 ✅
- 显示精确的分数（带小数）✅
- 偏差显示2位小数 ✅

## 📊 完整功能检查

### ✅ 视觉效果
- [ ] 刀emoji方向正确（刀尖朝右下）
- [ ] 线条是黑色的
- [ ] 线条跟随鼠标轨迹（不是直线）
- [ ] 红色起点在左上偏移位置
- [ ] 线条看起来从刀尖出来

### ✅ 评分系统
- [ ] 偏差显示2位小数（如 0.23%）
- [ ] 分数显示1位小数（如 95.5）
- [ ] 左右百分比显示2位小数

### ✅ 排行榜
- [ ] 首页显示8位名人
- [ ] 分数是非整数（如 1387）
- [ ] 游戏中显示4-6位玩家
- [ ] 其他玩家分数在±50分内

### ✅ 音频
- [ ] 完全静音，无任何声音
- [ ] 没有音频控制按钮

## 🐛 常见问题排查

### Q1: 红点位置还是不对？

**可能原因**：
- 浏览器缓存问题
- 代码未正确加载

**解决方法**：
1. 硬刷新：Ctrl+Shift+R (Windows) 或 Cmd+Shift+R (Mac)
2. 清空缓存后重新加载
3. 关闭浏览器重新打开

### Q2: 红点太左或太右？

**微调方法**：
编辑 `js/game.js`，找到：
```javascript
const offsetX = -28;  // 当前值
const offsetY = -6;
```

调整值：
- 红点太左 → 改为 -25 或 -22
- 红点太右 → 改为 -30 或 -32
- 红点太高 → 改为 -4 或 -2
- 红点太低 → 改为 -8 或 -10

### Q3: 切割不准确？

**检查**：
- 线条是否穿过水果？
- 线条长度是否足够（>20像素）？
- 游戏状态是否正确？

## 📏 精确度测试

### 方法1：网格测试
1. 想象画布有一个网格
2. 点击网格交叉点
3. 观察红点是否在预期的左上方位置

### 方法2：坐标测试
打开控制台（F12），运行：
```javascript
canvas = document.getElementById('game-canvas');
canvas.addEventListener('click', (e) => {
    const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    console.log(`点击: (${x}, ${y})`);
    console.log(`线起点应该在: (${x-28}, ${y-6})`);
});
```

然后点击画布，对比实际红点位置。

## 🎨 视觉对比

### 理想效果示意图

**点击位置**：(200, 200)
**线起点**：(172, 194)  ← 左移28，上移6

```
画布坐标系统：
    0   50  100 150 172 200 250
    ┌───┬───┬───┬───┬───┬───┐
  0 │   │   │   │   │   │   │
 50 ├───┼───┼───┼───┼───┼───┤
100 │   │   │   │   │   │   │
150 ├───┼───┼───┼───┼───┼───┤
194 │   │   │   │  🔴│   │   │ ← 红点
200 ├───┼───┼───┼───┼───🔪──┤ ← 点击
250 │   │   │   │   │   │   │
    └───┴───┴───┴───┴───┴───┘
```

## ⚙️ 技术参数

### 偏移量
- **X偏移**: -28 像素（往左）
- **Y偏移**: -6 像素（往上）

### 刀的尺寸
- **SVG尺寸**: 40×40 像素
- **Emoji字号**: 32
- **光标热点**: (32, 32)

### 计算公式
```
线起点X = 点击X + offsetX = 点击X - 28
线起点Y = 点击Y + offsetY = 点击Y - 6
```

## 🎯 成功标准

如果满足以下条件，说明调整成功：

1. ✅ 红点出现在点击位置左上方
2. ✅ 视觉上线条从刀尖延伸
3. ✅ 偏移量感觉自然、合理
4. ✅ 不影响游戏玩法
5. ✅ 切割功能正常工作

## 📝 测试记录

测试人员可以填写：

**测试时间**：________

**浏览器**：Chrome / Firefox / Safari / Edge

**操作系统**：Windows / Mac / Linux

**测试结果**：
- [ ] 线从刀尖出来 - 通过/失败
- [ ] 偏移量合适 - 通过/失败
- [ ] 评分精确 - 通过/失败
- [ ] 排行榜真实 - 通过/失败
- [ ] 无声音 - 通过/失败

**备注**：
___________________________________
___________________________________

## 🚀 下一步

如果所有测试通过：
- 🎮 开始玩游戏！
- 🏆 挑战15个关卡
- 📈 争取进入全球排行榜

如果还有问题：
- 📝 记录具体问题
- 📸 截图说明
- 💬 反馈给开发者

---

**祝测试顺利！** 🎉
